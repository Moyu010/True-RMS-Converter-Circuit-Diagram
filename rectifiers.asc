Version 4
SHEET 1 3268 2196
WIRE 560 -1056 400 -1056
WIRE 400 -992 400 -1056
WIRE 560 -992 560 -1056
WIRE 944 -992 848 -992
WIRE 400 -896 400 -912
WIRE 640 -896 400 -896
WIRE 848 -896 848 -992
WIRE 400 -864 400 -896
WIRE 560 -864 560 -928
WIRE 848 -752 848 -816
WIRE 400 -736 400 -784
WIRE 560 -736 560 -800
WIRE 560 -736 400 -736
WIRE 864 -448 752 -448
WIRE 864 -400 864 -448
WIRE 752 -352 752 -448
WIRE 752 -352 704 -352
WIRE 816 -352 752 -352
WIRE 976 -352 896 -352
WIRE -208 -272 -752 -272
WIRE 704 -240 704 -352
WIRE 752 -240 704 -240
WIRE 896 -240 816 -240
WIRE -752 -176 -752 -272
WIRE -560 -176 -624 -176
WIRE -416 -176 -560 -176
WIRE -208 -176 -208 -272
WIRE -208 -176 -352 -176
WIRE 1280 -160 1200 -160
WIRE -560 -128 -560 -176
WIRE -208 -128 -208 -176
WIRE 1280 -112 1280 -160
WIRE 784 -96 784 -128
WIRE 576 -80 416 -80
WIRE 608 -80 576 -80
WIRE 704 -80 704 -240
WIRE 704 -80 688 -80
WIRE 752 -80 704 -80
WIRE 896 -64 896 -240
WIRE 896 -64 816 -64
WIRE 976 -64 976 -352
WIRE 976 -64 960 -64
WIRE 1008 -64 976 -64
WIRE 1136 -64 1088 -64
WIRE 1200 -64 1200 -160
WIRE 1200 -64 1136 -64
WIRE 1232 -64 1200 -64
WIRE 1376 -64 1312 -64
WIRE 752 -48 672 -48
WIRE -752 -16 -752 -96
WIRE -560 -16 -560 -64
WIRE -560 -16 -752 -16
WIRE -416 -16 -560 -16
WIRE -208 -16 -208 -64
WIRE -208 -16 -352 -16
WIRE -192 -16 -208 -16
WIRE -128 -16 -192 -16
WIRE -752 16 -752 -16
WIRE -192 16 -192 -16
WIRE -128 16 -128 -16
WIRE 784 16 784 -32
WIRE 672 48 672 -48
WIRE 1136 64 1136 -64
WIRE 1136 64 992 64
WIRE 1200 64 1136 64
WIRE 992 80 992 64
WIRE 1376 80 1376 -64
WIRE 1376 80 1264 80
WIRE 1424 80 1376 80
WIRE 1456 80 1424 80
WIRE 1200 96 1136 96
WIRE -624 128 -624 -176
WIRE -352 128 -624 128
WIRE -192 128 -192 80
WIRE -192 128 -352 128
WIRE -128 128 -128 96
WIRE -128 128 -192 128
WIRE 1232 160 1232 112
WIRE 576 176 576 -80
WIRE 992 176 992 160
WIRE 992 176 576 176
WIRE 1136 176 1136 96
WIRE -672 512 -688 512
WIRE -528 512 -592 512
WIRE -880 624 -976 624
WIRE -800 672 -800 624
WIRE -688 672 -688 512
WIRE -688 672 -800 672
WIRE -656 672 -688 672
WIRE -528 688 -528 512
WIRE -528 688 -592 688
WIRE -256 688 -528 688
WIRE -976 704 -976 624
WIRE -720 704 -800 704
WIRE -656 704 -720 704
WIRE -624 736 -624 720
WIRE -976 768 -976 704
WIRE -880 768 -976 768
WIRE -800 768 -800 704
WIRE -336 832 -672 832
WIRE -336 880 -336 832
WIRE -720 928 -720 704
WIRE -672 928 -672 832
WIRE -672 928 -720 928
WIRE -592 928 -672 928
WIRE -336 944 -528 944
WIRE -592 960 -720 960
WIRE -560 992 -560 976
WIRE -720 1024 -720 960
WIRE 1200 1152 1152 1152
WIRE 1424 1152 1280 1152
WIRE 1152 1264 1152 1152
WIRE 1200 1264 1152 1264
WIRE 1344 1264 1264 1264
WIRE 1232 1408 1232 1376
WIRE 1056 1424 528 1424
WIRE 1152 1424 1152 1264
WIRE 1152 1424 1136 1424
WIRE 1200 1424 1152 1424
WIRE 1344 1440 1344 1264
WIRE 1344 1440 1264 1440
WIRE 1424 1440 1424 1152
WIRE 1424 1440 1408 1440
WIRE 1776 1440 1424 1440
WIRE 1968 1440 1856 1440
WIRE 1232 1520 1232 1472
WIRE 1968 1520 1968 1440
WIRE 2048 1520 1968 1520
WIRE 2192 1520 2128 1520
WIRE 528 1648 528 1424
WIRE 528 1648 464 1648
WIRE 2096 1664 2096 1632
WIRE 1216 1680 1136 1680
WIRE 1408 1680 1296 1680
WIRE 1776 1680 1648 1680
WIRE 1968 1680 1968 1520
WIRE 1968 1680 1856 1680
WIRE 2064 1680 1968 1680
WIRE 2192 1696 2192 1520
WIRE 2192 1696 2128 1696
WIRE 2272 1696 2192 1696
WIRE 832 1776 736 1776
WIRE 976 1776 912 1776
WIRE 1136 1792 1136 1680
WIRE 1184 1792 1136 1792
WIRE 1328 1792 1248 1792
WIRE 864 1920 864 1888
WIRE 528 1936 528 1648
WIRE 656 1936 528 1936
WIRE 736 1936 736 1776
WIRE 832 1936 736 1936
WIRE 1216 1936 1216 1904
WIRE 976 1952 976 1776
WIRE 976 1952 896 1952
WIRE 1008 1952 976 1952
WIRE 1136 1952 1136 1792
WIRE 1136 1952 1088 1952
WIRE 1184 1952 1136 1952
WIRE 1328 1968 1328 1792
WIRE 1328 1968 1248 1968
WIRE 1408 1968 1408 1680
WIRE 1408 1968 1392 1968
WIRE 1648 1968 1648 1680
WIRE 1648 1968 1408 1968
WIRE 864 2032 864 1984
WIRE 1216 2048 1216 2000
FLAG 640 -896 0
FLAG 400 -1056 V+
IOPIN 400 -1056 BiDir
FLAG 400 -736 V-
IOPIN 400 -736 BiDir
FLAG -752 16 0
FLAG -352 128 Vbase
FLAG 848 -752 0
FLAG 944 -992 Vin
IOPIN 944 -992 Out
FLAG -624 656 V+
IOPIN -624 656 BiDir
FLAG -976 704 Vin
IOPIN -976 704 In
FLAG -560 912 V+
IOPIN -560 912 BiDir
FLAG -720 1024 0
FLAG -624 736 0
FLAG -560 992 0
FLAG 1232 1376 V+
IOPIN 1232 1376 BiDir
FLAG 1232 1520 V-
IOPIN 1232 1520 BiDir
FLAG 1200 1456 0
FLAG 1216 1904 V+
IOPIN 1216 1904 BiDir
FLAG 1216 2048 V-
IOPIN 1216 2048 BiDir
FLAG 1184 1984 0
FLAG 864 1888 V+
IOPIN 864 1888 BiDir
FLAG 864 2032 V-
IOPIN 864 2032 BiDir
FLAG 464 1648 Vin
IOPIN 464 1648 In
FLAG 832 1968 0
FLAG 2096 1632 V+
IOPIN 2096 1632 BiDir
FLAG 2064 1712 0
FLAG 2096 1728 V-
IOPIN 2096 1728 BiDir
FLAG 416 -80 Vin
IOPIN 416 -80 In
FLAG 1424 80 Vrec
IOPIN 1424 80 Out
FLAG 1136 176 0
FLAG 1232 48 V+
IOPIN 1232 48 BiDir
FLAG 1232 160 V-
IOPIN 1232 160 BiDir
FLAG 784 -128 V+
IOPIN 784 -128 BiDir
FLAG 784 16 V-
IOPIN 784 16 BiDir
FLAG 672 48 0
FLAG 2272 1696 Vrect
IOPIN 2272 1696 Out
DATAFLAG 528 1664 ""
SYMBOL voltage 400 -1008 R0
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL voltage 400 -880 R0
SYMATTR InstName V2
SYMATTR Value 5
SYMBOL polcap 544 -992 R0
SYMATTR InstName C4
SYMATTR Value 10µ
SYMBOL polcap 544 -864 R0
SYMATTR InstName C5
SYMATTR Value 10µ
SYMBOL voltage -752 -192 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -76 119 Left 2
SYMATTR Value SINE(0 100m {Freq})
SYMATTR InstName V3
SYMBOL diode -576 -128 R0
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL diode -416 0 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL diode -224 -128 R0
SYMATTR InstName D3
SYMATTR Value 1N4148
SYMBOL diode -416 -160 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D4
SYMATTR Value 1N4148
SYMBOL res -144 0 R0
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL cap -208 16 R0
SYMATTR InstName C6
SYMATTR Value 100n
SYMBOL voltage 848 -912 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value SINE(0 {Amplitude} {Freq})
SYMBOL TL974 -624 688 R0
SYMATTR InstName U1
SYMBOL res -576 496 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value {ResVal_t}
SYMBOL res -784 608 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value {ResVal_t}
SYMBOL res -784 752 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value {ResVal_t}
SYMBOL TL974 -560 944 R0
SYMATTR InstName U4
SYMBOL diode -320 944 R180
WINDOW 0 24 64 Left 2
WINDOW 3 -125 32 Left 2
SYMATTR InstName D7
SYMATTR Value 1N4148
SYMBOL voltage 1104 -768 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value PULSE({-Amplitude-1} {Amplitude-1} 0 {1/2/Freq} {1/2/Freq} 0 {1/Freq})
SYMBOL res 1152 1408 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value {RectResVal}
SYMBOL res 1296 1136 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value {RectResVal}
SYMBOL diode 1264 1248 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D8
SYMATTR Value 1N4148
SYMBOL diode 1408 1424 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D9
SYMATTR Value 1N4148
SYMBOL TL974 1232 1440 R0
SYMATTR InstName U6
SYMBOL res 1312 1664 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value {RectResVal}
SYMBOL diode 1248 1776 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D10
SYMATTR Value 1N4148
SYMBOL diode 1392 1952 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D11
SYMATTR Value 1N4148
SYMBOL TL974 1216 1968 R0
SYMATTR InstName U5
SYMBOL TL974 864 1952 R0
SYMATTR InstName U7
SYMBOL res 928 1760 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value {RectResVal}
SYMBOL res 752 1920 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value {RectResVal}
SYMBOL TL974 2096 1696 R0
SYMATTR InstName U8
SYMBOL res 1872 1664 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R17
SYMATTR Value {RectResVal}
SYMBOL TL974 1232 80 R0
SYMATTR InstName U2
SYMBOL res 704 -96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value {RectResVal}
SYMBOL diode 816 -256 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D5
SYMATTR Value 1N4148
SYMBOL diode 960 -80 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D6
SYMATTR Value 1N4148
SYMBOL res 1104 -80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value {RectResVal/2}
SYMBOL TL974 784 -64 R0
SYMATTR InstName U3
SYMBOL res 1008 176 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R4
SYMATTR Value {RectResVal}
SYMBOL pot 800 -336 R270
WINDOW 3 150 -55 VRight 2
SYMATTR Value Rtot=10K wiper={TuneDiff/10000}
SYMATTR InstName U9
SYMBOL pot 1216 -48 R270
WINDOW 3 142 -44 VRight 2
SYMATTR Value Rtot=10k wiper={TunePeak/10000}
SYMATTR InstName U10
SYMBOL res 1872 1424 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value {RectResVal}
SYMBOL res 1104 1936 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value {RectResVal}
SYMBOL res 2144 1504 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value {RectResVal}
TEXT -760 -840 Left 2 !.tran {TranEnd}
TEXT -640 -384 Left 2 ;Full Wave Rectifier
TEXT 392 -1104 Left 2 ;Voltage Supply
TEXT -776 -992 Left 2 !.meas TRAN Vpp(Vin) PP V(Vin) FROM 0 TO {TranEnd}
TEXT -776 -960 Left 2 !.meas TRAN Vpp(Vrect) PP V(Vrect) FROM 0 TO {TranEnd}
TEXT -768 -1176 Left 2 !.param TranEnd=10/{Freq} Freq=100 Amplitude=100m
TEXT -792 -1272 Left 2 ;Simulation
TEXT 312 -1296 Left 2 ;General
TEXT -864 -592 Left 2 ;Rectifiers
TEXT -864 456 Left 2 !.param Resval_t=200k
TEXT 264 -408 Left 2 ;Rectifier
TEXT 528 1288 Left 2 !.param RectResVal=1k
TEXT 1904 -688 Left 2 !.include pot.sub
TEXT 216 -560 Left 2 !.param TuneDiff=1020 TunePeak=1000
TEXT 880 1080 Left 2 ;Half Wave Rectifier (negative half)
TEXT 1720 1360 Left 2 ;Inverting Summing Amplifier
TEXT 600 1624 Left 2 ;Half Wave Rectifier (negative half, phase shifted by pi/2)
RECTANGLE Normal -880 272 32 -496 2
RECTANGLE Normal 704 -1152 288 -688 2
RECTANGLE Normal 112 -784 -816 -1328
RECTANGLE Normal 1536 -640 240 -1344 1
RECTANGLE Normal 1648 368 208 -464 2
RECTANGLE Normal 1648 1600 848 1056 2
RECTANGLE Normal 1568 2192 592 1600 2
RECTANGLE Normal 2336 1856 1696 1328 2
