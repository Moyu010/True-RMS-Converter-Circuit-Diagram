Version 4
SHEET 1 2508 3560
WIRE 1056 16 960 16
WIRE 960 112 960 16
WIRE 448 208 288 208
WIRE 960 256 960 192
WIRE 1248 256 1152 256
WIRE 288 272 288 208
WIRE 448 272 448 208
WIRE 832 272 736 272
WIRE 1152 352 1152 256
WIRE 288 368 288 352
WIRE 528 368 288 368
WIRE 736 368 736 272
WIRE 288 400 288 368
WIRE 448 400 448 336
WIRE 1152 496 1152 432
WIRE 736 512 736 448
WIRE 288 528 288 480
WIRE 448 528 448 464
WIRE 448 528 288 528
WIRE -256 912 -448 912
WIRE 1360 912 1168 912
WIRE -368 1072 -368 1040
WIRE 1248 1072 1248 1040
WIRE -448 1088 -448 912
WIRE -400 1088 -448 1088
WIRE 1168 1088 1168 912
WIRE 1216 1088 1168 1088
WIRE -256 1104 -256 912
WIRE -256 1104 -336 1104
WIRE -192 1104 -256 1104
WIRE 1360 1104 1360 912
WIRE 1360 1104 1280 1104
WIRE 1424 1104 1360 1104
WIRE -816 1120 -896 1120
WIRE -624 1120 -816 1120
WIRE -464 1120 -544 1120
WIRE -400 1120 -464 1120
WIRE 752 1120 624 1120
WIRE 928 1120 832 1120
WIRE 992 1120 928 1120
WIRE 1152 1120 1072 1120
WIRE 1216 1120 1152 1120
WIRE -816 1184 -816 1120
WIRE -464 1184 -464 1120
WIRE -368 1184 -368 1136
WIRE 1152 1184 1152 1120
WIRE 1248 1184 1248 1136
WIRE 928 1248 928 1120
WIRE -816 1296 -816 1248
WIRE -464 1296 -464 1248
WIRE 1152 1296 1152 1248
WIRE 928 1360 928 1312
WIRE 1360 1360 1360 1104
WIRE 1360 1360 928 1360
WIRE -336 1392 -400 1392
WIRE -192 1392 -256 1392
WIRE 1408 1472 1216 1472
WIRE -624 1504 -720 1504
WIRE -464 1504 -544 1504
WIRE -304 1568 -304 1536
WIRE -464 1584 -464 1504
WIRE -400 1584 -400 1392
WIRE -400 1584 -464 1584
WIRE -336 1584 -400 1584
WIRE -192 1600 -192 1392
WIRE -192 1600 -272 1600
WIRE -96 1600 -192 1600
WIRE -624 1616 -688 1616
WIRE -416 1616 -544 1616
WIRE -336 1616 -416 1616
WIRE 1296 1632 1296 1600
WIRE 1216 1648 1216 1472
WIRE 1264 1648 1216 1648
WIRE 1408 1664 1408 1472
WIRE 1408 1664 1328 1664
WIRE 1472 1664 1408 1664
WIRE -304 1680 -304 1632
WIRE 800 1680 672 1680
WIRE 976 1680 880 1680
WIRE 1040 1680 976 1680
WIRE 1200 1680 1120 1680
WIRE 1264 1680 1200 1680
WIRE -416 1696 -416 1616
WIRE 1200 1744 1200 1680
WIRE 1296 1744 1296 1696
WIRE 976 1808 976 1680
WIRE -416 1824 -416 1776
WIRE 1200 1856 1200 1808
WIRE 976 1920 976 1872
WIRE 1408 1920 1408 1664
WIRE 1408 1920 976 1920
WIRE 1392 2096 1200 2096
WIRE 1280 2256 1280 2224
WIRE 1200 2272 1200 2096
WIRE 1248 2272 1200 2272
WIRE 1392 2288 1392 2096
WIRE 1392 2288 1312 2288
WIRE 1456 2288 1392 2288
WIRE 784 2304 656 2304
WIRE 960 2304 864 2304
WIRE 1024 2304 960 2304
WIRE 1184 2304 1104 2304
WIRE 1248 2304 1184 2304
WIRE 1184 2368 1184 2304
WIRE 1280 2368 1280 2320
WIRE 960 2432 960 2304
WIRE 1184 2480 1184 2432
WIRE 960 2544 960 2496
WIRE 1392 2544 1392 2288
WIRE 1392 2544 960 2544
WIRE 1056 2752 848 2752
WIRE 1200 2752 1136 2752
WIRE 1200 2784 1200 2752
WIRE 1200 2880 1200 2848
WIRE 960 3040 896 3040
WIRE 960 3072 960 3040
WIRE 960 3168 960 3136
WIRE 976 3312 912 3312
WIRE 976 3344 976 3312
WIRE 976 3440 976 3408
FLAG 528 368 0
FLAG 288 208 V+
IOPIN 288 208 BiDir
FLAG 288 528 V-
IOPIN 288 528 BiDir
FLAG 736 512 0
FLAG 832 272 Vsine
IOPIN 832 272 Out
FLAG -464 1296 0
FLAG -192 1104 Voffset
IOPIN -192 1104 Out
FLAG -304 1536 V+
IOPIN -304 1536 BiDir
FLAG -304 1680 V-
IOPIN -304 1680 BiDir
FLAG -720 1504 Voffset
IOPIN -720 1504 In
FLAG -416 1824 0
FLAG -96 1600 Vsymm
IOPIN -96 1600 Out
FLAG -368 1040 V+
IOPIN -368 1040 BiDir
FLAG -368 1184 V-
IOPIN -368 1184 BiDir
FLAG 624 1120 Vsine
IOPIN 624 1120 In
FLAG 1152 1296 0
FLAG 1424 1104 Voffset_sine
IOPIN 1424 1104 Out
FLAG 1248 1040 V+
IOPIN 1248 1040 BiDir
FLAG 1248 1184 V-
IOPIN 1248 1184 BiDir
FLAG 1152 496 0
FLAG 1248 256 Vtriag
IOPIN 1248 256 Out
FLAG 960 256 0
FLAG 1056 16 Vsquare
IOPIN 1056 16 Out
FLAG 672 1680 Vtriag
IOPIN 672 1680 In
FLAG 1472 1664 Voffset_triag
IOPIN 1472 1664 Out
FLAG 656 2304 Vsquare
IOPIN 656 2304 In
FLAG 1456 2288 Voffset_square
IOPIN 1456 2288 Out
FLAG 832 3312 Vsquare
IOPIN 832 3312 In
FLAG 848 2752 Vsine
IOPIN 848 2752 In
FLAG 816 3040 Vtriag
IOPIN 816 3040 In
FLAG -816 1296 0
FLAG -976 1120 Vtriag
IOPIN -976 1120 In
FLAG 1200 1856 0
FLAG 1296 1600 V+
IOPIN 1296 1600 BiDir
FLAG 1296 1744 V-
IOPIN 1296 1744 BiDir
FLAG 1184 2480 0
FLAG 1280 2224 V+
IOPIN 1280 2224 BiDir
FLAG 1280 2368 V-
IOPIN 1280 2368 BiDir
FLAG 1200 2880 0
FLAG 960 3168 0
FLAG 976 3440 0
FLAG -688 1616 Vtriag
IOPIN -688 1616 In
SYMBOL voltage 288 256 R0
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL voltage 288 384 R0
SYMATTR InstName V2
SYMATTR Value 5
SYMBOL polcap 432 272 R0
SYMATTR InstName C1
SYMATTR Value 10µ
SYMBOL polcap 432 400 R0
SYMATTR InstName C2
SYMATTR Value 10µ
SYMBOL voltage 736 352 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value SINE({Offset} {Amplitude} {Freq})
SYMBOL voltage 1152 336 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value PULSE({-Amplitude+Offset} {Amplitude+Offset} 0 {1/2/Freq} {1/2/Freq} 0 {1/Freq})
SYMBOL res -528 1104 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 9.4k
SYMBOL cap -480 1184 R0
SYMATTR InstName C3
SYMATTR Value 47µ
SYMBOL TL974 -304 1600 R0
SYMATTR InstName U2
SYMBOL res -528 1600 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value {diffRes}
SYMBOL res -400 1792 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R3
SYMATTR Value {diffRes}
SYMBOL res -240 1376 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value {diffRes}
SYMBOL res -528 1488 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value {diffRes}
SYMBOL TL974 -368 1104 R0
SYMATTR InstName U1
SYMBOL res 1088 1104 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value {FilterRes}
SYMBOL cap 1136 1184 R0
SYMATTR InstName C4
SYMATTR Value {LargeCap}
SYMBOL TL974 1248 1104 R0
SYMATTR InstName U4
SYMBOL res 848 1104 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value {FilterRes}
SYMBOL cap 912 1248 R0
SYMATTR InstName C5
SYMATTR Value {SmallCap}
SYMBOL voltage 960 96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value PULSE({-Amplitude+Offset} {Amplitude+Offset} 0 0 0 {1/2/Freq} {1/Freq})
SYMBOL res -880 1104 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 9.4k
SYMBOL cap -832 1184 R0
SYMATTR InstName C13
SYMATTR Value 47µ
SYMBOL res 1136 1664 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value {FilterRes}
SYMBOL cap 1184 1744 R0
SYMATTR InstName C6
SYMATTR Value {LargeCap}
SYMBOL TL974 1296 1664 R0
SYMATTR InstName U3
SYMBOL res 896 1664 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value {FilterRes}
SYMBOL cap 960 1808 R0
SYMATTR InstName C7
SYMATTR Value {SmallCap}
SYMBOL res 1120 2288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value {FilterRes}
SYMBOL cap 1168 2368 R0
SYMATTR InstName C8
SYMATTR Value {LargeCap}
SYMBOL TL974 1280 2288 R0
SYMATTR InstName U5
SYMBOL res 880 2288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value {FilterRes}
SYMBOL cap 944 2432 R0
SYMATTR InstName C9
SYMATTR Value {SmallCap}
SYMBOL res 1152 2736 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value {FilterRes}
SYMBOL cap 1184 2784 R0
SYMATTR InstName C10
SYMATTR Value {LargeCap}
SYMBOL res 912 3024 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value {FilterRes}
SYMBOL cap 944 3072 R0
SYMATTR InstName C11
SYMATTR Value {LargeCap}
SYMBOL res 928 3296 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value {FilterRes}
SYMBOL cap 960 3344 R0
SYMATTR InstName C12
SYMATTR Value {LargeCap}
TEXT -872 424 Left 2 !.tran 0 {TranEnd*300} 100ms
TEXT 280 160 Left 2 ;Voltage Supply
TEXT -880 88 Left 2 !.param TranEnd=10/{Freq} Freq=10k Amplitude=50m Offset=2
TEXT -904 -8 Left 2 ;Simulation
TEXT 200 -32 Left 2 ;General
TEXT -864 816 Left 2 !.param diffRes=470k
TEXT -1056 744 Left 2 ;Input Filtering
TEXT 560 744 Left 2 ;Input Filtering
TEXT 608 832 Left 2 !.param LargeCap=220u SmallCap=33n FilterRes=100
RECTANGLE Normal 592 112 176 576 2
RECTANGLE Normal 0 480 -928 -64
RECTANGLE Normal 1424 624 128 -80 1
RECTANGLE Normal 288 1920 -1120 704 2
RECTANGLE Normal 1904 1920 496 704 2
